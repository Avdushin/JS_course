# Введение в Vue часть 2
# Ключевой частью любого компонента в Vue являются его данные, 
которые хранятся в объекте data. 
Для определения данных в компоненте необходимо определить метод data,
который будет возвращать объект, содержащий все данные, 
с которыми мы хотим работать в компоненте.

Например, мы можем определить два свойства, содержащих текстовые данные,
такие как заголовок и подзаголовок:

```vue
export default {
  data() {
    return {
      title: 'Заголовок',
      subtitle: 'Подзаголовок',
    }
  }
}

```

Мы можем использовать эти данные в представлении, используя двойные фигурные скобки и указывая имя свойства, которое мы хотим вывести:

```vue
<template>
  <div>
    <h1>{{ title }}</h1>
    <h2>{{ subtitle }}</h2>
  </div>
</template>

```


Vue автоматически обновляет представление, если данные изменяются. 
Мы можем изменять данные в компоненте, используя методы, которые будут вызываться в ответ на события пользователя.

Для добавления новых элементов в массив данных мы можем создать метод addItem,
который будет принимать новый элемент в качестве аргумента и добавлять его в массив:

```vue
export default {
  data() {
    return {
      items: [],
    }
  },
  methods: {
    addItem(item) {
      this.items.push(item);
    }
  }
}
```

Мы можем вызвать метод addItem из представления, используя директиву v-on:click, чтобы добавить новый элемент при щелчке на кнопке:

```vue
<template>
  <div>
    <ul>
      <li v-for="item in items" :key="item">{{ item }}</li>
    </ul>
    <button @click="addItem('Новый элемент')">Добавить элемент</button>
  </div>
</template>

```

Таким образом, мы создали компонент, который выводит список элементов и позволяет добавлять новые элементы в массив данных при нажатии на кнопку.


# Директива v-bind
Директива v-bind в Vue.js используется для динамического связывания значения свойства компонента с атрибутом HTML элемента в представлении компонента. 
Она позволяет вставлять значения свойств в текст, атрибуты и стили HTML элементов.

# Пример использования директивы v-bind для установки значения атрибута src тега img:
```vue
<template>
  <img :src="attr">
</template>

<script>
export default {
  data() {
    return {
      attr: 'img.png',
    }
  }
}
</script>


```

Здесь imageUrl - это свойство объекта data, которое содержит ссылку на изображение. 
Значение свойства imageUrl может быть изменено в методах или вычисляемых свойствах компонента, 
это изменение автоматически отразится на значении атрибута src тега img.

# Методы
В Vue.js есть возможность создавать свои функции, называемые методами,
которые могут использоваться в представлении компонента. 
Чтобы создать методы, нужно использовать свойство methods.

```vue
export default {
  data() {
    return {
      message: 'Hello, world!'
    }
  },
  methods: {
    showMessage() {
      alert(this.message);
    }
  }
}
```

Мы создали метод showMessage(), который выводит сообщение, хранящееся в свойстве message. 
Обратите внимание, что методы являются объектом, содержащим функции.

Методы можно вызывать в представлении с помощью директивы v-on или сокращенной записи @.

```vue
<template>
  <button @click="showMessage">Нажми на меня</button>
</template>
```

Мы создали кнопку, которая при клике вызывает метод showMessage().

Важно помнить, что методы не следует вызывать внутри фигурных скобок {{ }},
поскольку это может привести к ошибкам. 
Если вы хотите вызвать метод внутри фигурных скобок, то следует использовать директиву v-once,
которая заставляет Vue.js вычислить выражение только один раз:

```vue
<template>
  <div>
    {{ message }}
    <span v-once>{{ showMessage() }}</span>
  </div>
</template>

```

Мы вызываем метод showMessage() внутри фигурных скобок и используем директиву v-once,
чтобы вычислить его только один раз.



# Навешивание обработчиков событий в Vue

В Vue.js можно навешивать обработчики событий на DOM элементы с помощью директивы v-on. 
Синтаксис директивы v-on следующий: v-on:имя_события="имя_метода" 
или сокращенный вариант @имя_события="имя_метода".
```vue
<template>
  <button @click="show">Кликни меня!</button>
</template>

<script>
export default {
  methods: {
    show() {
      alert('Привет, Vue!');
    }
  }
}
</script>

```


Обратите внимание, что метод show объявлен в блоке methods, а не в блоке data. 
Это связано с тем, что методы в Vue.js предназначены для выполнения действий, а не для хранения данных.

Также можно использовать выражения вместо имен методов. 
Например:

```vue
<template>
  <button @click="counter++">{{ counter }}</button>
</template>

<script>
export default {
  data() {
    return {
      counter: 0
    }
  }
}
</script>

```

В этом примере при каждом клике на кнопку значение counter будет увеличиваться на единицу, 
а на кнопке будет отображаться текущее значение counter.


Vue предоставляет несколько встроенных вспомогательных методов,
которые могут быть использованы в компонентах Vue.

# computed

Computed свойства - это свойства, которые можно вычислить на основе других данных в компоненте Vue. \
Они хранятся в кэше и вычисляются только при необходимости, могут быть использованы внутри шаблона, так же как и обычные свойства.
```vue
<template>
  <div>
    <p>{{ message }}</p>
    <p>{{ reversedMessage }}</p>
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: 'Hello Vue.js'
    }
  },
  computed: {
    reversedMessage() {
      return this.message.split('').reverse().join('')
    }
  }
}
</script>

```

В этом примере reversedMessage - это вычисляемое свойство, которое переворачивает строку message.

# watch
Watch свойства - это функции, которые вызываются при изменении определенных данных в компоненте Vue.\
Они могут быть использованы для реактивной обработки изменений данных, например, для выполнения HTTP запроса, когда данные обновляются.

```vue
<template>
  <div>
    <p>{{ message }}</p>
    <button @click="updateMessage">Update Message</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: 'Hello Vue.js'
    }
  },
  methods: {
    updateMessage() {
      this.message = 'Updated Message'
    }
  },
  watch: {
    message(newValue, oldValue) {
      console.log(`Old value: ${oldValue}, New value: ${newValue}`)
    }
  }
}
</script>

```

В этом примере watch следит за изменениями в message и выводит старое и новое значение при каждом обновлении.

# filters
Filters - это функции, которые принимают значение и возвращают измененное значение. \
Они могут быть использованы для форматирования данных в шаблоне.

```vue
<template>
  <div>
    <p>{{ message }}</p>
    <p>{{ message | capitalize }}</p>
  </div>
</template>

<script>
export default {
  data() {
    return {
      message: 'hello world'
    }
  },
  filters: {
    capitalize(value) {
      return value.charAt(0).toUpperCase() + value.slice(1)
    }
  }
}
</script>

```

В этом примере capitalize - это фильтр, который делает первую букву заглавной в переданном значении message.
______________________________________________
______________________________________________
# Домашнее задание:

### Задача 1 
Создайте компонент с именем "MyText" и добавьте в него объект data, 
который будет содержать два свойства: "text1" со значением "Hello" и 
"text2" со значением "World". Выведите значения свойств "text1" и "text2" в представлении компонента в двух отдельных абзацах. Добавьте в компонент метод "changeText", который будет менять значение свойства "text1" на "Goodbye".


#### Решение

```vue
<template>
  <div>
    <p>{{ text1 }}</p>
    <p>{{ text2 }}</p>
    <button @click="changeText">Change Text</button>
  </div>
</template>

<script>
  export default {
    data() {
      return {
        text1: 'Hello',
        text2: 'World'
      }
    },
    methods: {
      changeText() {
        this.text1 = 'Goodbye'
      }
    }
  }
</script>

```

В этом компоненте мы создали объект data, содержащий два свойства text1 и text2 со значениями "Hello" и "World". 
Затем мы вывели значения этих свойств в представлении компонента в двух отдельных абзацах.

Также мы добавили метод changeText, который меняет значение свойства text1 на "Goodbye". 
Этот метод вызывается при клике на кнопку "Change Text", которую мы также добавили в компонент.

Когда пользователь кликает на кнопку, значение свойства text1 изменяется на "Goodbye",
и это изменение автоматически отражается в представлении.

### Задача 2

Создайте компонент с именем "Counter". Добавьте в него объект data, 
который будет содержать свойство "counter" со значением 0.
Выведите значение свойства "counter" в представлении компонента в абзаце.
Добавьте в компонент методы "increment" и "decrement",
которые будут увеличивать и уменьшать значение свойства "counter" на 1 соответственно.
Создайте кнопки в представлении компонента, при нажатии на которые будут вызываться методы "increment" и "decrement" и изменять значение свойства "counter".

#### Решение
```vue
<template>
  <div>
    <button @click="increment">+</button>
    <span>{{ count }}</span>
    <button @click="decrement">-</button>
  </div>
</template>

<script>
export default {
  data() {
    return {
      count: 0,
    };
  },
  methods: {
    increment() {
      this.count++;
    },
    decrement() {
      this.count--;
    },
  },
};
</script>

```

### Задача 3
Создайте методы в Vue, которые будут складывать, вычитать, умножать и делить два числа. Каждая операция должна быть своим методом.\
Добавьте на страницу форму с двумя полями ввода для чисел и четыре кнопки для операций.\
По клику на каждую кнопку должна вызываться соответствующая операция и выводиться результат в какой-нибудь элемент на странице.


#### Решение
```vue
<template>
  <div>
    <h1>Калькулятор</h1>
    <form>
      <label for="num1">Первое число: </label>
      <input type="number" id="num1" v-model="num1">
      <br>
      <label for="num2">Второе число: </label>
      <input type="number" id="num2" v-model="num2">
      <br>
      <button @click.prevent="add">Сложить</button>
      <button @click.prevent="subtract">Вычесть</button>
      <button @click.prevent="multiply">Умножить</button>
      <button @click.prevent="divide">Делить</button>
    </form>
    <div v-if="result !== null">
      <h2>Результат: {{ result }}</h2>
    </div>
  </div>
</template>
<script>
export default {
  data() {
    return {
      num1: null,
      num2: null,
      result: null
    };
  },
  methods: {
    add() {
      this.result = this.num1 + this.num2;
    },
    subtract() {
      this.result = this.num1 - this.num2;
    },
    multiply() {
      this.result = this.num1 * this.num2;
    },
    divide() {
      if (this.num2 === 0) {
        this.result = null;
        alert("Деление на ноль невозможно!");
      } else {
        this.result = this.num1 / this.num2;
      }
    }
  }
};
</script>
```

В этом примере мы создали методы add, subtract, multiply и divide, каждый из которых выполняет соответствующую операцию.\
В форме на странице есть два поля ввода, куда пользователь вводит числа, и четыре кнопки, по нажатию на которые вызываются методы.\
Результат операции выводится на страницу в блоке, который появляется только после выполнения операции.\
Мы добавили проверку на деление на ноль, чтобы не было ошибок в случае, если пользователь попытается поделить на ноль. Если деление на ноль происходит, то выводится сообщение об ошибке, а результат становится равным null.

### Задача 4
Создайте новый Vue-компонент и определите в нем вспомогательный метод, который будет принимать массив чисел и возвращать их сумму.\
Создайте в этом же компоненте метод, который будет вызывать вспомогательный метод и выводить результат на экран.\
Навесьте на кнопку обработчик события click, который будет вызывать этот метод.
#### Решение

```vue
<template>
  <div>
    <button @click="showSum">Показать сумму чисел</button>
    <p>Сумма чисел: {{ sum }}</p>
  </div>
</template>

<script>
export default {
  data() {
    return {
      numbers: [1, 2, 3, 4, 5],
      sum: null
    };
  },
  methods: {
    showSum() {
      this.sum = this.getSum(this.numbers);
    },
    getSum(numbers) {
      return numbers.reduce((accumulator, currentValue) => accumulator + currentValue);
    }
  }
};
</script>

```

В этом коде мы создали компонент, у которого есть массив чисел и свойство sum, которое будет хранить сумму этих чисел. \
В методе showSum мы вызываем вспомогательный метод getSum, который принимает массив чисел и возвращает их сумму. \
После этого мы записываем результат в свойство sum, чтобы отобразить его в HTML-разметке.\
Мы навесили на кнопку обработчик события click, который вызывает метод showSum при клике на кнопку.